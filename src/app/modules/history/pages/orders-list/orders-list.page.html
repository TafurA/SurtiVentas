<ion-content>
  <div class="o-layout-page-small">

    <!-- Header back -->
    <app-back-button></app-back-button>

    <div class="o-canvas">

      <header class="o-headline">
        <h1 class="o-heading">Histórico de pedidos</h1>
        <p class="o-text o-text_fs-14">
          Aquí encuentras el listado de tus pedidos con el respectivo número de seguimiento.
        </p>
      </header>

      <div>
        <h2 class="o-title o-headline">REALIZADO EN APLICACIÓN</h2>

        <ng-container>
          <form id="search-component" class="c-header__search">
            <input id="search-term" class="c-header__search-input js-input-search" placeholder="Buscar por nombre del cliente..." (keyup)="sendWordAplication$($event)">
            <label class="c-header__search-label i-search" for="" *ngIf="!isTerm"></label>
            <label class="c-header__search-label i-close" (click)="getOrdersListAplication('close')" for="" *ngIf="isTerm"></label>
          </form>
        </ng-container>

        <!-- Personal information -->
        <div *ngIf="loadedAplication">
          <div class="o-information" *ngFor="let order of orderListAplication">

            <h2 class="o-information__title">Número factura: <span class="o-information__kicker">#{{ order.idpedido }}</span></h2>

            <div class="o-information__form">

              <label class="o-information__input">Cliente: <strong>{{ order.nomcli_b }}</strong></label>
              <label class="o-information__input">Contacto: <strong>{{ order.telcli_b }}</strong></label>
              <label class="o-information__input">Fecha emisión: <strong>{{ order.fecha }}</strong></label>
              <label class="o-information__input">Total de la compra: <strong>$ {{ order.valped_b }}</strong></label>
              <label class="o-information__input">Vendedor responsable: <strong>{{ order.venped_b }}</strong></label>

              <a
                class="o-link o-link_secondary"
                (click)="saveCurrentDetail(order)"
              >
                VER DETALLES
              </a>

            </div>

          </div>
        </div>
      </div>

      <div *ngIf="!loadedAplication">
        <ion-skeleton-text [animated]="true" style="width: 100%; height: 24px"></ion-skeleton-text>

        <!-- Personal information -->
        <div class="o-information">

          <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>

          <div class="o-information__form">

            <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>
            <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>
            <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>

            <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>

          </div>

        </div>
        <ion-skeleton-text [animated]="true" style="width: 100%; height: 24px"></ion-skeleton-text>

        <!-- Personal information -->
        <div class="o-information">

          <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>

          <div class="o-information__form">

            <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>
            <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>
            <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>

            <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>

          </div>

        </div>
        <ion-skeleton-text [animated]="true" style="width: 100%; height: 24px"></ion-skeleton-text>

        <!-- Personal information -->
        <div class="o-information">

          <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>

          <div class="o-information__form">

            <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>
            <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>
            <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>

            <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>

          </div>

        </div>

      </div>

      <div>
        <h2 class="o-title o-headline">REALIZADO EN INTRANET</h2>

        <ng-container>
          <form id="search-component" class="c-header__search">
            <input id="search-term" class="c-header__search-input js-input-search-intra" placeholder="Buscar por nombre del cliente..." (keyup)="sendWord$($event)">
            <label class="c-header__search-label i-search" for="" *ngIf="!isTerm"></label>
            <label class="c-header__search-label i-close" (click)="getOrdersListIntranet('close')" for="" *ngIf="isTerm"></label>
          </form>
        </ng-container>
        
        <div *ngIf="loadedIntranet">
          <!-- Personal information -->
          <div class="o-information" *ngFor="let order of orderListIntranet">

            <h2 class="o-information__title">Número factura: <span class="o-information__kicker">#{{ order.idpedido }}</span></h2>

            <div class="o-information__form">

              <label class="o-information__input">Cliente: <strong>{{ order.nomcli_b }}</strong></label>
              <label class="o-information__input">Contacto: <strong>{{ order.telcli_b }}</strong></label>
              <label class="o-information__input">Fecha emisión: <strong>{{ order.fecha }}</strong></label>
              <label class="o-information__input">Total de la compra: <strong>$ {{ order.valped_b }}</strong></label>
              <label class="o-information__input">Vendedor responsable: <strong>{{ order.venped_b }}</strong></label>

              <a
                class="o-link o-link_secondary"
                (click)="saveCurrentDetail(order)"
              >
                VER DETALLES
              </a>

            </div>

          </div>
        </div>

        <div *ngIf="!loadedIntranet">
          <ion-skeleton-text [animated]="true" style="width: 100%; height: 24px"></ion-skeleton-text>
  
          <!-- Personal information -->
          <div class="o-information">
  
            <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>
  
            <div class="o-information__form">
  
              <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>
              <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>
              <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>
  
              <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>
  
            </div>
  
          </div>
          <ion-skeleton-text [animated]="true" style="width: 100%; height: 24px"></ion-skeleton-text>
  
          <!-- Personal information -->
          <div class="o-information">
  
            <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>
  
            <div class="o-information__form">
  
              <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>
              <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>
              <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>
  
              <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>
  
            </div>
  
          </div>
          <ion-skeleton-text [animated]="true" style="width: 100%; height: 24px"></ion-skeleton-text>
  
          <!-- Personal information -->
          <div class="o-information">
  
            <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>
  
            <div class="o-information__form">
  
              <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>
              <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>
              <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>
  
              <ion-skeleton-text [animated]="true" style="width: 100%; height: 20px"></ion-skeleton-text>
  
            </div>
  
          </div>
  
        </div>

      </div>

    </div>

  </div>
</ion-content>
