<!-- Header component -->
<!-- <app-header></app-header> -->

<ion-content [fullscreen]="true">
  <div class="o-layout-page-small">
    <div class="o-canvas">
      
      <app-back-button></app-back-button>

      <div>

        <!-- Slider image -->
        <div class="c-product-detail__star">
  
          <swiper-container 
            [modules]="swiperModules"
            effect="coverflow"
            [rotate]="50"
            [stretch]="16"
            [depth]="400"
            [modifier]="1"
            [loop]="true"
            [slidesPerView]="slidesPerView"
            [centeredSlides]="true"
            [pagination]="true"
            [slideShadow]="false"
            class="c-product-slider"
          >
            <swiper-slide class="c-product-detail__slide">
              <img class="o-img" src="{{ product.img_prod1 }}" alt="">
            </swiper-slide>
            <swiper-slide class="c-product-detail__slide">
              <img class="o-img" src="{{ product.img_prod2 }}" alt="">
            </swiper-slide>
            <swiper-slide class="c-product-detail__slide">
              <img class="o-img" src="{{ product.img_prod3 }}" alt="">
            </swiper-slide>
          </swiper-container>
  
          <span
            *ngIf="product.porcDescuento !== '0.00' && product.porcDescuento !== '0'"
            class="c-product-detail__ico i-star"
          >
            {{ product.porcDescuento }}%
          </span>
        </div>
  
        <div class="c-product-detail__amount">
  
          <div class="c-product-detai__box">
            <span class="c-product-detai__price">${{ product.totalValue }}</span>
            <span
              *ngIf="product.porcDescuento !== '0.00' && product.porcDescuento !== '0'"
              class="c-product-detai__discount"
            >
                ${{ product.precioSinDcto }}
            </span>
          </div>
  
        </div>
  
        <header class="c-detail-product__header">
          <h1 class="c-detail-product__title">{{ product.nameProduct }}</h1>
        </header>
  
        <div class="c-detail-product__description o-detail__dropdown">
          <h2 class="c-detail-product__description-title">Detalles del producto</h2>
          <p class="c-detail-product__lead">{{ product.descrProduct }}</p>
          <div *ngIf="isDescriptionDropdown" style="position: relative;">
            <span class="c-detail-product__shadow"></span>
            <button
              class="
                c-detail-product__link
                o-link o-link_secondary
                i-after-arrow-down
              "
              (click)="toggleDropdown($event)"
              data-text-btn="Ver menos"
            >
              Ver m√°s
            </button>
          </div>
        </div>

      </div>

      <div *ngIf="isProductsRelatedLoad">
        <ng-container>
          <header class="o-headline">
            <h3 class="o-title c-product-slider__title">PRODUCTOS RELACIONADOS</h3>
          </header>
          <swiper-container [modules]="swiperModules" [slidesPerGroup]="3" [slidesPerView]="3" [loop]="true" class="c-product-related">
            <swiper-slide class="c-product-slider__slide" *ngFor="let productObject of relatedProducts">
              <app-product [productObject]="productObject"></app-product>
            </swiper-slide>
          </swiper-container>
        </ng-container>
      </div>

      <!-- Data unloaded -->
      <div *ngIf="!isProductsRelatedLoad">
        <div class="o-canvas">
          <ion-skeleton-text [animated]="true" style="width: 80px; height: 13px;"></ion-skeleton-text>
          <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px;">
            <ion-skeleton-text [animated]="true" style="width: 117px; height: 165px; border-radius: 8px"></ion-skeleton-text>
            <ion-skeleton-text [animated]="true" style="width: 117px; height: 165px; border-radius: 8px"></ion-skeleton-text>
            <ion-skeleton-text [animated]="true" style="width: 117px; height: 165px; border-radius: 8px"></ion-skeleton-text>
          </div>
        </div>
      </div>
      <!-- End data unloaded -->

    </div>
  </div>
</ion-content>
